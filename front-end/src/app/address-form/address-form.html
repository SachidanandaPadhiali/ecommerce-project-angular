<h2 mat-dialog-title>Add New Address</h2>

<mat-dialog-content>
    <form [formGroup]="addressForm" class="address-form">

        <div class="address-form-row">
            <div class="address-form-group">
                <label for="userName">Full Name</label>
                <input type="text" id="userName" formControlName="userName" placeholder="Enter your name" />
            </div>

            <div class="address-form-group">
                <label for="phoneNumber">Mobile Number</label>
                <input type="tel" id="phoneNumber" formControlName="phoneNumber" placeholder="Enter your mobile" />
            </div>
        </div>

        <div class="address-form-row">
            <div class="address-form-group">
                <label>Country</label>
                <select formControlName="country">
                    <option value="">-- Select a Country --</option>
                    <option *ngFor="let c of countries" [value]="c.code">{{ c.name }}</option>
                </select>
            </div>

            <div class="address-form-group">
                <label for="state">State</label>
                <select id="state" formControlName="state" [disabled]="!states || states.length === 0">
                    <option value="">-- Select a state --</option>
                    <option *ngFor="let s of states" [value]="s">{{ s }}</option>
                </select>
            </div>

            <div class="address-form-group">
                <label for="city">City</label>
                <input type="text" id="city" formControlName="city" placeholder="Enter your city" />
            </div>

            <div class="address-form-group">
                <label for="zipCode">Pincode</label>
                <input type="text" id="pincode" formControlName="zipCode" placeholder="Enter your pincode" />
            </div>
        </div>

        <div class="address-form-row">
            <div class="address-form-group">
                <label for="flatNo">Flat/ House No.</label>
                <input type="text" id="flatNo" formControlName="flatNo" />
            </div>

            <div class="address-form-group">
                <label for="addressLine1">Address Line 1</label>
                <input type="text" id="addressLine1" formControlName="addressLine1" />
            </div>

            <div class="address-form-group">
                <label for="addressLine2">Address Line 2</label>
                <input type="text" id="addressLine2" formControlName="addressLine2" />
            </div>
        </div>

        <div class="address-form-row">
            <label class="checkbox-label">
                <input type="checkbox" formControlName="isDefault" />
                <span>Set as my default address</span>
            </label>
        </div>

        <!-- Global error -->
        <div class="message error" *ngIf="addressForm.invalid && addressForm.touched">
            Please fill in all required fields correctly.
        </div>
    </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()" class="cancel-btn">Cancel</button>
    <button mat-flat-button (click)="onSave()" class="ok-btn" [disabled]="addressForm.invalid">
        Save
    </button>
</mat-dialog-actions>